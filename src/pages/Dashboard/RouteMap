import React, { useState } from 'react';
import GoogleMapReact from 'google-map-react';
import { DirectionsRenderer } from '@react-google-maps/api';

export default function RouteMap({ startingPoint, destination }) {
  const [directions, setDirections] = useState(null);

  const handleApiLoaded = (map, maps) => {
    const directionsService = new maps.DirectionsService();

    directionsService.route(
      {
        origin: startingPoint,
        destination: destination,
        travelMode: 'DRIVING'
      },
      (result, status) => {
        if (status === 'OK') {
          setDirections(result);
        }
      }
    );
  };

  return (
     <div style={{ marginLeft: "-30px", height: "100vh", width: "105%"  }}> 

      <GoogleMapReact
        bootstrapURLKeys={{ key: 'AIzaSyB9K5uKIZHk4e5N2jKcgRvNgCZ7hpT4LeM' }}
        defaultCenter={startingPoint}
        defaultZoom={10}
        yesIWantToUseGoogleMapApiInternals
        onGoogleApiLoaded={({ map, maps }) => handleApiLoaded(map, maps)}
      >
        {directions && <DirectionsRenderer directions={directions} />}
      </GoogleMapReact>
    </div>
  );
}
